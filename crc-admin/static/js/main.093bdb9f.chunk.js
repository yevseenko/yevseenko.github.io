(this["webpackJsonpcrc-admin-panel"]=this["webpackJsonpcrc-admin-panel"]||[]).push([[0],{56:function(e,t,n){e.exports={defaultButton:"DefaultButton_defaultButton__17AXE"}},57:function(e,t,n){e.exports={defaultInput:"DefaultInput_defaultInput__3Kye1"}},62:function(e,t,n){e.exports={navbar:"Navbar_navbar__1RIl-"}},63:function(e,t,n){e.exports={ltds:"Loader_ltds__dEe6q","lds-ripple":"Loader_lds-ripple__1E2DK"}},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a,c=n(4),r=n(45),s=n.n(r),o=n(41),i=n(38),u=n(11),l=n(12),j=n(15),b=Object(c.createContext)(null),d=n(0),p=n.n(d),O=n(1),h=n(31),m=n(16),f=n(56),x=n.n(f),v=n(7),g=function(e){return Object(v.jsx)("button",Object(m.a)({className:x.a.defaultButton},e))},S=n(57),N=n.n(S),w=function(e){return Object(v.jsx)("input",Object(m.a)({className:N.a.defaultInput},e))},E=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(u.a)(r,2),o=s[0],i=s[1],l=Object(c.useContext)(b).conSetIsAuth,j=function(){var e=Object(O.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.c)(Object(h.b)(),n,o);case 3:t=e.sent,console.log(t.user),localStorage.setItem("auth","true"),l(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"login-form",children:[Object(v.jsx)(w,{placeholder:"E-mail",type:"text",required:!0,value:n,onChange:function(e){return a(e.target.value)}}),Object(v.jsx)(w,{placeholder:"Password",type:"password",required:!0,value:o,onChange:function(e){return i(e.target.value)}}),Object(v.jsx)("div",{className:"btn-container",children:Object(v.jsx)(g,{onClick:j,children:"Login"})})]})},_=function(){return Object(v.jsx)("div",{className:"login-page",children:Object(v.jsx)(E,{})})},y=n(18),I=n(60),T=n(24),A=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(u.a)(r,2),o=s[0],i=s[1],l=Object(T.e)(),b=Object(j.g)();function d(){return(d=Object(O.a)(p.a.mark((function e(t){var n,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(T.f)(Object(T.a)(l,"/users"),Object(T.h)("firstName","==",t)),e.next=3,Object(T.d)(n);case 3:(a=e.sent).empty?console.log("Nothing to view"):(c=[],a.forEach((function(e){c.push({id:e.id,data:e.data()})})),i(c),console.log(I.a()));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsxs)("div",{children:[Object(v.jsx)(w,{placeholder:"Search form",onChange:function(e){return a(e.target.value)}}),Object(v.jsx)(g,{onClick:function(){return function(e){return d.apply(this,arguments)}(n)},children:"Search"}),o.length>0?Object(v.jsxs)("div",{children:["\u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",o.length," \u0437\u0430\u043f\u0438\u0441\u0435\u0439"]}):Object(v.jsx)("div",{}),o.length>0?o.map((function(e){return Object(v.jsx)("div",{onClick:function(){return b.push("/users/".concat(e.id))},children:e.id},e.id)})):Object(v.jsx)("div",{children:"Nothing to view"})]})},k=function(e){var t=Object(c.useState)(!0),n=Object(u.a)(t,2),a=n[0],r=n[1];return Object(v.jsxs)("div",{children:[Object(v.jsx)(y.a,Object(m.a)({disabled:a},e)),Object(v.jsx)("input",{type:"checkbox",onChange:function(){r(!a)}})]})},R=n(36),L=n(43);!function(e){e.SET_USER="SET_USER",e.SET_AUTH="SET_AUTH",e.SET_ERROR="SET_ERROR",e.SET_IS_LOADING="SET_IS_LOADING"}(a||(a={}));var U,C={setIsAuth:function(e){return{type:a.SET_AUTH,payload:e}},setIsLoading:function(e){return{type:a.SET_IS_LOADING,payload:e}},setError:function(e){return{type:a.SET_ERROR,payload:e}},setUser:function(e){return{type:a.SET_USER,payload:e}},login:function(e,t){return function(){var n=Object(O.a)(p.a.mark((function n(a){var c;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(C.setIsLoading(!0)),n.next=4,Object(L.b)(Object(L.a)(),e,t);case 4:c=n.sent,a(C.setUser(c.user)),a(C.setIsAuth(!0)),localStorage.setItem("auth","true"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a(C.setError(n.t0.message));case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(L.c)(Object(L.a)());case 3:t(C.setIsAuth(!1)),localStorage.removeItem("auth"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},D=o.c,P=n(62),F=n.n(P),G=function(){var e=D((function(e){return e.auth})).user,t=function(){var e=Object(o.b)();return Object(R.b)(C,e)}().logout,n=Object(c.useContext)(b).conSetIsAuth,a=Object(j.g)();return Object(v.jsxs)("div",{className:F.a.navbar,children:[Object(v.jsxs)("span",{children:["Logged in as > ",e.email," (",e.uid,")"]}),Object(v.jsx)(g,{onClick:function(){a.push("/signup")},children:"Create new User"}),Object(v.jsx)(g,{onClick:function(){t(),n(!1)},children:"LogOut"})]})},B=function(){D((function(e){return e.auth})).user;return Object(c.useEffect)((function(){}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)(G,{}),Object(v.jsx)("h3",{children:"Hello on main APP page"}),Object(v.jsx)(y.c,{initialValues:{hello:""},onSubmit:function(){return console.log("Form submitted")},children:Object(v.jsx)(k,{type:"text",name:"hello"})}),Object(v.jsx)(A,{})]})},q=n(63),H=n.n(q),J=function(){return Object(v.jsxs)("div",{className:H.a.ltds,children:[Object(v.jsx)("div",{}),Object(v.jsx)("div",{})]})},M=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)({firstName:"",lastName:"",email:"",password:""}),s=Object(u.a)(r,2),o=s[0],l=s[1],j=function(){var e=Object(O.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.password!==t.rePassword){e.next=19;break}return a(!0),e.prev=2,n=Object(T.e)(),e.next=6,Object(h.a)(Object(h.b)(),t.email,t.password);case 6:return c=e.sent,e.next=9,Object(T.g)(Object(T.b)(n,"users",c.user.uid),{firstName:t.firstName,lastName:t.lastName,phoneNumber:"+38"+t.phoneNumber});case 9:return l({firstName:t.firstName,lastName:t.lastName,password:t.password,email:t.email}),e.next=12,Object(h.d)(Object(h.b)());case 12:a(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0),a(!1);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"new-user-page",children:[Object(v.jsx)("div",{className:"back-bar",children:Object(v.jsx)(i.b,{to:"/main",className:"new-user-btn",children:"Back to Main"})}),Object(v.jsx)("h3",{children:"Create new USER account:"}),Object(v.jsx)(y.c,{initialValues:{email:"",firstName:"",lastName:"",password:"",rePassword:"",phoneNumber:""},onSubmit:function(e,t){var n=t.resetForm;j(e),n()},children:Object(v.jsxs)(y.b,{className:"new-user-form",children:[Object(v.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(v.jsx)(y.a,{id:"email",name:"email",placeholder:"jane@acme.com",type:"email"}),Object(v.jsx)("label",{htmlFor:"firstName",children:"First Name:"}),Object(v.jsx)(y.a,{id:"firstName",name:"firstName",placeholder:"Jane"}),Object(v.jsx)("label",{htmlFor:"lastName",children:"Last Name:"}),Object(v.jsx)(y.a,{id:"lastName",name:"lastName",placeholder:"Doe"}),Object(v.jsx)("label",{htmlFor:"phoneNumber",children:"Phone number:"}),Object(v.jsx)(y.a,{id:"phoneNumber",name:"phoneNumber",placeholder:"0501231231"}),Object(v.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(v.jsx)(y.a,{id:"password",name:"password",placeholder:"some password"}),Object(v.jsx)("label",{htmlFor:"rePassword",children:"Re-type password:"}),Object(v.jsx)(y.a,{id:"rePassword",name:"rePassword",placeholder:"re-type password"}),Object(v.jsx)("button",{type:"submit",children:"Create new User"})]})}),n&&Object(v.jsx)(J,{}),o.email&&Object(v.jsxs)("div",{children:["Last created user: ",o.firstName," ",o.lastName," with password: ",o.password]})]})},K=function(e){var t=Object(c.useState)(),n=Object(u.a)(t,2),a=n[0],r=n[1];function s(){return(s=Object(O.a)(p.a.mark((function e(t){var n,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(T.b)(Object(T.e)(),"users",t),e.next=3,Object(T.c)(n);case 3:(a=e.sent).exists()&&(c=a.data(),r(c));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(e){s.apply(this,arguments)}(e.match.params.id),console.log(a)}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"User id page"}),Object(v.jsx)("input",{type:"text",disabled:!0}),Object(v.jsx)("button",{onClick:function(){return console.log(a)},children:"ClickMe"}),Object(v.jsx)(y.c,{initialValues:{email:"",check:!1},onSubmit:function(){return console.log("world")},children:function(e){var t=e.values;return Object(v.jsxs)(y.b,{className:"new-user-form",children:[Object(v.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(v.jsx)(y.a,{id:"email",name:"email",placeholder:"jane@acme.com",type:"email",disabled:t.check}),Object(v.jsx)(y.a,{type:"checkbox",name:"check",id:"check"}),Object(v.jsx)("button",{type:"submit",children:"qwe"})]})}})]})};!function(e){e.LOGIN="/login",e.MAIN="/main",e.SIGNUP="/signup"}(U||(U={}));var V=[{path:"/login",component:_,exact:!0}],z=[{path:"/signup",component:M,exact:!0},{path:"/main",component:B,exact:!0},{path:"/users/:id",component:K,exact:!0}],W=function(){return Object(c.useContext)(b).conIsAuth?Object(v.jsxs)(j.d,{children:[z.map((function(e){return Object(v.jsx)(j.b,{path:e.path,exact:e.exact,component:e.component},e.path)})),Object(v.jsx)(j.a,{to:U.MAIN})]}):Object(v.jsxs)(j.d,{children:[V.map((function(e){return Object(v.jsx)(j.b,{path:e.path,exact:e.exact,component:e.component},e.path)})),Object(v.jsx)(j.a,{to:U.LOGIN})]})};Object(l.g)({apiKey:"AIzaSyBvRkqo5dzUAZ4J6Uo3BfWtg_-hRw4LPAs",authDomain:"crc-expo-firestore.firebaseapp.com",projectId:"crc-expo-firestore",storageBucket:"crc-expo-firestore.appspot.com",messagingSenderId:"163188046866",appId:"1:163188046866:web:7184760fdab9d687b6accb"});var X,Z=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){localStorage.getItem("auth")&&a(!0)}),[]),Object(v.jsx)(b.Provider,{value:{conIsAuth:n,conSetIsAuth:a},children:Object(v.jsx)(W,{})})},Q=n(64),Y={isAuth:!1,error:"",isLoading:!1,user:{}};!function(e){e.SET_AUTO="SET_AUTO",e.SET_LOADING="SET_LOADING",e.SET_ERROR="SET_ERROR"}(X||(X={}));var $={auto:{},isLoading:!1,error:""};var ee=Object(R.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SET_USER:return Object(m.a)(Object(m.a)({},e),{},{user:t.payload,isLoading:!1});case a.SET_AUTH:return Object(m.a)(Object(m.a)({},e),{},{isAuth:t.payload,isLoading:!1});case a.SET_ERROR:return Object(m.a)(Object(m.a)({},e),{},{error:t.payload,isLoading:!1});case a.SET_IS_LOADING:return Object(m.a)(Object(m.a)({},e),{},{isLoading:t.payload});default:return e}},auto:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X.SET_AUTO:return Object(m.a)(Object(m.a)({},e),{},{auto:t.payload,isLoading:!1});case X.SET_ERROR:return Object(m.a)(Object(m.a)({},e),{},{error:t.payload,isLoading:!1});case X.SET_LOADING:return Object(m.a)(Object(m.a)({},e),{},{isLoading:t.payload});default:return e}}}),te=Object(R.d)(ee,Object(R.a)(Q.a));n(76);s.a.render(Object(v.jsx)(o.a,{store:te,children:Object(v.jsx)(i.a,{children:Object(v.jsx)(Z,{})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.093bdb9f.chunk.js.map