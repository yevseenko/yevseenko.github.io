(this["webpackJsonpcrc-admin-panel"]=this["webpackJsonpcrc-admin-panel"]||[]).push([[0],{55:function(e,t,n){e.exports={defaultButton:"DefaultButton_defaultButton__17AXE"}},56:function(e,t,n){e.exports={defaultInput:"DefaultInput_defaultInput__3Kye1"}},59:function(e,t,n){e.exports={navbar:"Navbar_navbar__1RIl-"}},62:function(e,t,n){e.exports={ltds:"Loader_ltds__dEe6q","lds-ripple":"Loader_lds-ripple__1E2DK"}},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a,r=n(4),c=n(43),s=n.n(c),o=n(39),i=n(34),u=n(11),l=n(12),j=n(14),b=n(0),d=n.n(b),p=n(1),O=n(28),h=Object(r.createContext)(null),f=n(15),m=n(55),x=n.n(m),v=n(8),g=function(e){return Object(v.jsx)("button",Object(f.a)({className:x.a.defaultButton},e))},N=n(56),S=n.n(N),w=function(e){return Object(v.jsx)("input",Object(f.a)({className:S.a.defaultInput},e))},E=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(u.a)(c,2),o=s[0],l=s[1],j=Object(r.useContext)(h).conSetIsAuth,b=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(O.c)(Object(O.b)(),n,o);case 3:t=e.sent,console.log(t.user),localStorage.setItem("auth","true"),j(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"login-form",children:[Object(v.jsx)(w,{placeholder:"E-mail",type:"text",required:!0,value:n,onChange:function(e){return a(e.target.value)}}),Object(v.jsx)(w,{placeholder:"Password",type:"password",required:!0,value:o,onChange:function(e){return l(e.target.value)}}),Object(v.jsxs)("div",{className:"btn-container",children:[Object(v.jsx)(g,{onClick:function(){return b()},children:"Login"}),Object(v.jsx)(i.b,{to:"/signup",className:"new-user-btn",children:"Create new User"})]})]})},_=function(){return Object(v.jsx)("div",{className:"login-page",children:Object(v.jsx)(E,{})})},I=n(58),y=n(22),A=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(u.a)(c,2),o=s[0],i=s[1],l=Object(y.e)(),b=Object(j.g)();function O(){return(O=Object(p.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(y.f)(Object(y.a)(l,"/users"),Object(y.h)("firstName","==",t)),e.next=3,Object(y.d)(n);case 3:(a=e.sent).empty?console.log("Nothing to view"):(r=[],a.forEach((function(e){r.push({id:e.id,data:e.data()})})),i(r),console.log(I.a()));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsxs)("div",{children:[Object(v.jsx)(w,{placeholder:"Search form",onChange:function(e){return a(e.target.value)}}),Object(v.jsx)(g,{onClick:function(){return function(e){return O.apply(this,arguments)}(n)},children:"Search"}),o.length>0?Object(v.jsxs)("div",{children:["\u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",o.length," \u0437\u0430\u043f\u0438\u0441\u0435\u0439"]}):Object(v.jsx)("div",{}),o.length>0?o.map((function(e){return Object(v.jsx)("div",{onClick:function(){return b.push("/users/".concat(e.id))},children:e.id},e.id)})):Object(v.jsx)("div",{children:"Nothing to view"})]})},T=n(35),R=n(41);!function(e){e.SET_USER="SET_USER",e.SET_AUTH="SET_AUTH",e.SET_ERROR="SET_ERROR",e.SET_IS_LOADING="SET_IS_LOADING"}(a||(a={}));var L,k={setIsAuth:function(e){return{type:a.SET_AUTH,payload:e}},setIsLoading:function(e){return{type:a.SET_IS_LOADING,payload:e}},setError:function(e){return{type:a.SET_ERROR,payload:e}},setUser:function(e){return{type:a.SET_USER,payload:e}},login:function(e,t){return function(){var n=Object(p.a)(d.a.mark((function n(a){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(k.setIsLoading(!0)),n.next=4,Object(R.b)(Object(R.a)(),e,t);case 4:r=n.sent,a(k.setUser(r.user)),a(k.setIsAuth(!0)),localStorage.setItem("auth","true"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a(k.setError(n.t0.message));case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.c)(Object(R.a)());case 3:t(k.setIsAuth(!1)),localStorage.removeItem("auth"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},U=o.c,C=n(59),D=n.n(C),P=function(){var e=U((function(e){return e.auth})).user,t=function(){var e=Object(o.b)();return Object(T.b)(k,e)}().logout,n=Object(r.useContext)(h).conSetIsAuth;return Object(v.jsxs)("div",{className:D.a.navbar,children:[Object(v.jsxs)("span",{children:["Logged in as > ",e.email," (",e.uid,")"]}),Object(v.jsx)(g,{onClick:function(){t(),n(!1)},children:"LogOut"})]})},G=function(){U((function(e){return e.auth})).user;return Object(r.useEffect)((function(){}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)(P,{}),Object(v.jsx)("h3",{children:"Hello on main APP page"}),Object(v.jsx)(A,{})]})},B=n(31),F=n(62),H=n.n(F),q=function(){return Object(v.jsxs)("div",{className:H.a.ltds,children:[Object(v.jsx)("div",{}),Object(v.jsx)("div",{})]})},J=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)({firstName:"",lastName:"",email:"",password:""}),s=Object(u.a)(c,2),o=s[0],l=s[1],j=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.password!==t.rePassword){e.next=19;break}return a(!0),e.prev=2,n=Object(y.e)(),e.next=6,Object(O.a)(Object(O.b)(),t.email,t.password);case 6:return r=e.sent,e.next=9,Object(y.g)(Object(y.b)(n,"users",r.user.uid),{firstName:t.firstName,lastName:t.lastName,phoneNumber:"+38"+t.phoneNumber});case 9:return l({firstName:t.firstName,lastName:t.lastName,password:t.password,email:t.email}),e.next=12,Object(O.d)(Object(O.b)());case 12:a(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0),a(!1);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"new-user-page",children:[Object(v.jsx)("div",{className:"back-bar",children:Object(v.jsx)(i.b,{to:"/login",className:"new-user-btn",children:"Back to Login"})}),Object(v.jsx)("h3",{children:"Create new USER account:"}),Object(v.jsx)(B.c,{initialValues:{email:"",firstName:"",lastName:"",password:"",rePassword:"",phoneNumber:""},onSubmit:function(e,t){var n=t.resetForm;j(e),n()},children:Object(v.jsxs)(B.b,{className:"new-user-form",children:[Object(v.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(v.jsx)(B.a,{id:"email",name:"email",placeholder:"jane@acme.com",type:"email"}),Object(v.jsx)("label",{htmlFor:"firstName",children:"First Name:"}),Object(v.jsx)(B.a,{id:"firstName",name:"firstName",placeholder:"Jane"}),Object(v.jsx)("label",{htmlFor:"lastName",children:"Last Name:"}),Object(v.jsx)(B.a,{id:"lastName",name:"lastName",placeholder:"Doe"}),Object(v.jsx)("label",{htmlFor:"phoneNumber",children:"Phone number:"}),Object(v.jsx)(B.a,{id:"phoneNumber",name:"phoneNumber",placeholder:"0501231231"}),Object(v.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(v.jsx)(B.a,{id:"password",name:"password",placeholder:"some password"}),Object(v.jsx)("label",{htmlFor:"rePassword",children:"Re-type password:"}),Object(v.jsx)(B.a,{id:"rePassword",name:"rePassword",placeholder:"re-type password"}),Object(v.jsx)("button",{type:"submit",children:"Create new User"})]})}),n&&Object(v.jsx)(q,{}),o.email&&Object(v.jsxs)("div",{children:["Last created user: ",o.firstName," ",o.lastName," with password: ",o.password]})]})},K=function(e){var t=Object(r.useState)(),n=Object(u.a)(t,2),a=n[0],c=n[1];function s(){return(s=Object(p.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(y.b)(Object(y.e)(),"users",t),e.next=3,Object(y.c)(n);case 3:(a=e.sent).exists()&&(r=a.data(),c(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(e){s.apply(this,arguments)}(e.match.params.id),console.log(a)}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"User id page"}),Object(v.jsx)("button",{onClick:function(){return console.log(a)},children:"ClickMe"})]})};!function(e){e.LOGIN="/login",e.MAIN="/main",e.SIGNUP="/signup"}(L||(L={}));var M=[{path:"/login",component:_,exact:!0},{path:"/signup",component:J,exact:!0}],z=[{path:"/main",component:G,exact:!0},{path:"/users/:id",component:K,exact:!0}],V=function(){U((function(e){return e.auth})).isAuth;return Object(r.useContext)(h).conIsAuth?Object(v.jsxs)(j.d,{children:[z.map((function(e){return Object(v.jsx)(j.b,{path:e.path,exact:e.exact,component:e.component},e.path)})),Object(v.jsx)(j.a,{to:L.MAIN})]}):Object(v.jsxs)(j.d,{children:[M.map((function(e){return Object(v.jsx)(j.b,{path:e.path,exact:e.exact,component:e.component},e.path)})),Object(v.jsx)(j.a,{to:L.LOGIN})]})};Object(l.g)({apiKey:"AIzaSyBvRkqo5dzUAZ4J6Uo3BfWtg_-hRw4LPAs",authDomain:"crc-expo-firestore.firebaseapp.com",projectId:"crc-expo-firestore",storageBucket:"crc-expo-firestore.appspot.com",messagingSenderId:"163188046866",appId:"1:163188046866:web:7184760fdab9d687b6accb"});var W,X=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){localStorage.getItem("auth")&&a(!0)}),[]),Object(v.jsx)(h.Provider,{value:{conIsAuth:n,conSetIsAuth:a},children:Object(v.jsx)(V,{})})},Z=n(63),Q={isAuth:!1,error:"",isLoading:!1,user:{}};!function(e){e.SET_AUTO="SET_AUTO",e.SET_LOADING="SET_LOADING",e.SET_ERROR="SET_ERROR"}(W||(W={}));var Y={auto:{},isLoading:!1,error:""};var $=Object(T.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SET_USER:return Object(f.a)(Object(f.a)({},e),{},{user:t.payload,isLoading:!1});case a.SET_AUTH:return Object(f.a)(Object(f.a)({},e),{},{isAuth:t.payload,isLoading:!1});case a.SET_ERROR:return Object(f.a)(Object(f.a)({},e),{},{error:t.payload,isLoading:!1});case a.SET_IS_LOADING:return Object(f.a)(Object(f.a)({},e),{},{isLoading:t.payload});default:return e}},auto:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.SET_AUTO:return Object(f.a)(Object(f.a)({},e),{},{auto:t.payload,isLoading:!1});case W.SET_ERROR:return Object(f.a)(Object(f.a)({},e),{},{error:t.payload,isLoading:!1});case W.SET_LOADING:return Object(f.a)(Object(f.a)({},e),{},{isLoading:t.payload});default:return e}}}),ee=Object(T.d)($,Object(T.a)(Z.a));n(79);s.a.render(Object(v.jsx)(o.a,{store:ee,children:Object(v.jsx)(i.a,{children:Object(v.jsx)(X,{})})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.32771e8d.chunk.js.map