(this["webpackJsonpcrc-admin-panel"]=this["webpackJsonpcrc-admin-panel"]||[]).push([[0],{55:function(e,t,a){e.exports={defaultButton:"DefaultButton_defaultButton__17AXE"}},56:function(e,t,a){e.exports={defaultInput:"DefaultInput_defaultInput__3Kye1"}},59:function(e,t,a){e.exports={navbar:"Navbar_navbar__1RIl-"}},62:function(e,t,a){e.exports={ltds:"Loader_ltds__dEe6q","lds-ripple":"Loader_lds-ripple__1E2DK"}},79:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n,r=a(4),c=a(43),s=a.n(c),o=a(39),i=a(34),u=a(11),l=a(12),j=a(14),b=Object(r.createContext)(null),d=a(0),p=a.n(d),O=a(1),h=a(28),f=a(15),m=a(55),x=a.n(m),v=a(8),g=function(e){return Object(v.jsx)("button",Object(f.a)({className:x.a.defaultButton},e))},N=a(56),S=a.n(N),w=function(e){return Object(v.jsx)("input",Object(f.a)({className:S.a.defaultInput},e))},E=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),s=Object(u.a)(c,2),o=s[0],l=s[1],j=Object(r.useContext)(b).conSetIsAuth,d=function(){var e=Object(O.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.c)(Object(h.b)(),a,o);case 3:t=e.sent,console.log(t.user),localStorage.setItem("auth","true"),j(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"login-form",children:[Object(v.jsx)(w,{placeholder:"E-mail",type:"text",required:!0,value:a,onChange:function(e){return n(e.target.value)}}),Object(v.jsx)(w,{placeholder:"Password",type:"password",required:!0,value:o,onChange:function(e){return l(e.target.value)}}),Object(v.jsxs)("div",{className:"btn-container",children:[Object(v.jsx)(g,{onClick:function(){return d()},children:"Login"}),Object(v.jsx)(i.b,{to:"/signup",className:"new-user-btn",children:"Create new User"})]})]})},_=function(){return Object(v.jsx)("div",{className:"login-page",children:Object(v.jsx)(E,{})})},I=a(58),y=a(22),T=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),s=Object(u.a)(c,2),o=s[0],i=s[1],l=Object(y.e)(),b=Object(j.g)();function d(){return(d=Object(O.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(y.f)(Object(y.a)(l,"/users"),Object(y.h)("firstName","==",t)),e.next=3,Object(y.d)(a);case 3:(n=e.sent).empty?console.log("Nothing to view"):(r=[],n.forEach((function(e){r.push({id:e.id,data:e.data()})})),i(r),console.log(I.a()));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsxs)("div",{children:[Object(v.jsx)(w,{placeholder:"Search form",onChange:function(e){return n(e.target.value)}}),Object(v.jsx)(g,{onClick:function(){return function(e){return d.apply(this,arguments)}(a)},children:"Search"}),o.length>0?Object(v.jsxs)("div",{children:["\u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",o.length," \u0437\u0430\u043f\u0438\u0441\u0435\u0439"]}):Object(v.jsx)("div",{}),o.length>0?o.map((function(e){return Object(v.jsx)("div",{onClick:function(){return b.push("/users/".concat(e.id))},children:e.id},e.id)})):Object(v.jsx)("div",{children:"Nothing to view"})]})},A=a(35),R=a(41);!function(e){e.SET_USER="SET_USER",e.SET_AUTH="SET_AUTH",e.SET_ERROR="SET_ERROR",e.SET_IS_LOADING="SET_IS_LOADING"}(n||(n={}));var L,k={setIsAuth:function(e){return{type:n.SET_AUTH,payload:e}},setIsLoading:function(e){return{type:n.SET_IS_LOADING,payload:e}},setError:function(e){return{type:n.SET_ERROR,payload:e}},setUser:function(e){return{type:n.SET_USER,payload:e}},login:function(e,t){return function(){var a=Object(O.a)(p.a.mark((function a(n){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(k.setIsLoading(!0)),a.next=4,Object(R.b)(Object(R.a)(),e,t);case 4:r=a.sent,n(k.setUser(r.user)),n(k.setIsAuth(!0)),localStorage.setItem("auth","true"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),n(k.setError(a.t0.message));case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.c)(Object(R.a)());case 3:t(k.setIsAuth(!1)),localStorage.removeItem("auth"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},U=o.c,C=a(59),D=a.n(C),P=function(){var e=U((function(e){return e.auth})).user,t=function(){var e=Object(o.b)();return Object(A.b)(k,e)}().logout,a=Object(r.useContext)(b).conSetIsAuth;return Object(v.jsxs)("div",{className:D.a.navbar,children:[Object(v.jsxs)("span",{children:["Logged in as > ",e.email," (",e.uid,")"]}),Object(v.jsx)(g,{onClick:function(){t(),a(!1)},children:"LogOut"})]})},G=function(){U((function(e){return e.auth})).user;return Object(r.useEffect)((function(){}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)(P,{}),Object(v.jsx)("h3",{children:"Hello on main APP page"}),Object(v.jsx)(T,{})]})},B=a(31),F=a(62),H=a.n(F),q=function(){return Object(v.jsxs)("div",{className:H.a.ltds,children:[Object(v.jsx)("div",{}),Object(v.jsx)("div",{})]})},J=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)({firstName:"",lastName:"",email:"",password:""}),s=Object(u.a)(c,2),o=s[0],l=s[1],j=function(){var e=Object(O.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.password!==t.rePassword){e.next=19;break}return n(!0),e.prev=2,a=Object(y.e)(),e.next=6,Object(h.a)(Object(h.b)(),t.email,t.password);case 6:return r=e.sent,e.next=9,Object(y.g)(Object(y.b)(a,"users",r.user.uid),{firstName:t.firstName,lastName:t.lastName,phoneNumber:"+38"+t.phoneNumber});case 9:return l({firstName:t.firstName,lastName:t.lastName,password:t.password,email:t.email}),e.next=12,Object(h.d)(Object(h.b)());case 12:n(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0),n(!1);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"new-user-page",children:[Object(v.jsx)("div",{className:"back-bar",children:Object(v.jsx)(i.b,{to:"/login",className:"new-user-btn",children:"Back to Login"})}),Object(v.jsx)("h3",{children:"Create new USER account:"}),Object(v.jsx)(B.c,{initialValues:{email:"",firstName:"",lastName:"",password:"",rePassword:"",phoneNumber:""},onSubmit:function(e,t){var a=t.resetForm;j(e),a()},children:Object(v.jsxs)(B.b,{className:"new-user-form",children:[Object(v.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(v.jsx)(B.a,{id:"email",name:"email",placeholder:"jane@acme.com",type:"email"}),Object(v.jsx)("label",{htmlFor:"firstName",children:"First Name:"}),Object(v.jsx)(B.a,{id:"firstName",name:"firstName",placeholder:"Jane"}),Object(v.jsx)("label",{htmlFor:"lastName",children:"Last Name:"}),Object(v.jsx)(B.a,{id:"lastName",name:"lastName",placeholder:"Doe"}),Object(v.jsx)("label",{htmlFor:"phoneNumber",children:"Phone number:"}),Object(v.jsx)(B.a,{id:"phoneNumber",name:"phoneNumber",placeholder:"0501231231"}),Object(v.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(v.jsx)(B.a,{id:"password",name:"password",placeholder:"some password"}),Object(v.jsx)("label",{htmlFor:"rePassword",children:"Re-type password:"}),Object(v.jsx)(B.a,{id:"rePassword",name:"rePassword",placeholder:"re-type password"}),Object(v.jsx)("button",{type:"submit",children:"Create new User"})]})}),a&&Object(v.jsx)(q,{}),o.email&&Object(v.jsxs)("div",{children:["Last created user: ",o.firstName," ",o.lastName," with password: ",o.password]})]})},K=function(e){var t=Object(r.useState)(),a=Object(u.a)(t,2),n=a[0],c=a[1];function s(){return(s=Object(O.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(y.b)(Object(y.e)(),"users",t),e.next=3,Object(y.c)(a);case 3:(n=e.sent).exists()&&(r=n.data(),c(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(e){s.apply(this,arguments)}(e.match.params.id),console.log(n)}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"User id page"}),Object(v.jsx)("button",{onClick:function(){return console.log(n)},children:"ClickMe"})]})};!function(e){e.LOGIN="/login",e.MAIN="/main",e.SIGNUP="/signup"}(L||(L={}));var M=[{path:"/login",component:_,exact:!0},{path:"/signup",component:J,exact:!0}],z=[{path:"/main",component:G,exact:!0},{path:"/users/:id",component:K,exact:!0}],V=function(){return Object(r.useContext)(b).conIsAuth?Object(v.jsxs)(j.d,{children:[z.map((function(e){return Object(v.jsx)(j.b,{path:e.path,exact:e.exact,component:e.component},e.path)})),Object(v.jsx)(j.a,{to:L.MAIN})]}):Object(v.jsxs)(j.d,{children:[M.map((function(e){return Object(v.jsx)(j.b,{path:e.path,exact:e.exact,component:e.component},e.path)})),Object(v.jsx)(j.a,{to:L.LOGIN})]})};Object(l.g)({apiKey:"AIzaSyBvRkqo5dzUAZ4J6Uo3BfWtg_-hRw4LPAs",authDomain:"crc-expo-firestore.firebaseapp.com",projectId:"crc-expo-firestore",storageBucket:"crc-expo-firestore.appspot.com",messagingSenderId:"163188046866",appId:"1:163188046866:web:7184760fdab9d687b6accb"});var W,X=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){localStorage.getItem("auth")&&n(!0)}),[]),Object(v.jsx)(b.Provider,{value:{conIsAuth:a,conSetIsAuth:n},children:Object(v.jsx)(V,{})})},Z=a(63),Q={isAuth:!1,error:"",isLoading:!1,user:{}};!function(e){e.SET_AUTO="SET_AUTO",e.SET_LOADING="SET_LOADING",e.SET_ERROR="SET_ERROR"}(W||(W={}));var Y={auto:{},isLoading:!1,error:""};var $=Object(A.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SET_USER:return Object(f.a)(Object(f.a)({},e),{},{user:t.payload,isLoading:!1});case n.SET_AUTH:return Object(f.a)(Object(f.a)({},e),{},{isAuth:t.payload,isLoading:!1});case n.SET_ERROR:return Object(f.a)(Object(f.a)({},e),{},{error:t.payload,isLoading:!1});case n.SET_IS_LOADING:return Object(f.a)(Object(f.a)({},e),{},{isLoading:t.payload});default:return e}},auto:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.SET_AUTO:return Object(f.a)(Object(f.a)({},e),{},{auto:t.payload,isLoading:!1});case W.SET_ERROR:return Object(f.a)(Object(f.a)({},e),{},{error:t.payload,isLoading:!1});case W.SET_LOADING:return Object(f.a)(Object(f.a)({},e),{},{isLoading:t.payload});default:return e}}}),ee=Object(A.d)($,Object(A.a)(Z.a));a(79);s.a.render(Object(v.jsx)(o.a,{store:ee,children:Object(v.jsx)(i.a,{children:Object(v.jsx)(X,{})})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.c9c21c1c.chunk.js.map